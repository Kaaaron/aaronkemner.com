<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Modify AnimCurves" />
<meta name="keywords" content="aaron kemner, games, technical animation, game development, developer, animation, programming, documentation, UE5, Node" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://www.aaronkemner.com/animnode-reference/modifycurve/" />


    <title>
        
            ModifyCurve | Aaron Kemner 
        
    </title>





<link rel="stylesheet" href="/main.949191c1dcc9c4a887997048b240354e47152016d821198f89448496ba42e491.css" integrity="sha256-lJGRwdzJxKiHmXBIskA1TkcVIBbYIRmPiUSElrpC5JE=">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">


<meta itemprop="name" content="ModifyCurve">
<meta itemprop="description" content="Modify AnimCurves">

<meta itemprop="wordCount" content="415"><meta itemprop="image" content="https://www.aaronkemner.com/" />
<meta itemprop="keywords" content="UE5,Node," />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://www.aaronkemner.com/" /><meta name="twitter:title" content="ModifyCurve"/>
<meta name="twitter:description" content="Modify AnimCurves"/>



    <meta property="og:title" content="ModifyCurve" />
<meta property="og:description" content="Modify AnimCurves" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.aaronkemner.com/animnode-reference/modifycurve/" /><meta property="og:image" content="https://www.aaronkemner.com/" /><meta property="article:section" content="animnode-reference" />







    <meta property="article:section" content="AnimNode Reference" />











    
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GF053ZV41M"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-GF053ZV41M', { 'anonymize_ip': false });
}
</script>




    </head>

    
        <body>
    
    
        <div class="container">
            <head>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GF053ZV41M"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-GF053ZV41M', { 'anonymize_ip': false });
}
</script>

</head>
<header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark"> </span>
            <span class="logo__text ">
                Aaron Kemner</span>
            <span class="logo__cursor" style=
                  "visibility:hidden;
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about">About</a></li><li><a href="/animnode-reference/">AnimNode Reference</a></li><li><a href="/blog/">Blog</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
	<main class="post">
		<article>
			<h2 class="post-title">ModifyCurve</h2>
			
				<h4>Modify AnimCurves</h4>
			
			<hr />
			<div style="height:fit-content;">
	<div class="row">
		<div class="column">
			
				<b>GraphNode:</b>
				<code>UAnimGraphNode_ModifyCurve</code>
			
		</div>
		<div class="column">
			
				<b>AnimNode:</b>
				<code>FAnimNode_ModifyCurve</code>
			
		</div>
	</div>

	<b>Official Documentation:</b>
	
		<a href="https://docs.unrealengine.com/latest/en-US/AnimatingObjects/SkeletalMeshAnimation/NodeReference/SkeletalControls/ModifyCurve/">Link</a>
	
</div>

			<hr />
			
	
	
	
		
	
	<img src="../../animnode-reference/defaultnodes/ModifyCurve.png" style="height:150px;border-radius:15px;">


			<hr />

			

			

			<div class="post-content">
				<p>Allows modification of AnimCurve Values from the AnimGraph.
This can either be done by adding new curves to the CurveValues array, which can be done by right-clicking the node and selecting which curve to add.</p>
<div style="border: dimgrey 2px solid; padding: 0.5em 1em 0.5em 2em; ">
	<h4 id="a-note-on-the-curve-value-inputs">A note on the curve value inputs</h4>
<p>The float input pin generated on the node when adding a new pin presents itself as a single float value.
As can be seen in this screenshot below though, this is actually not the case. Instead it is a value in an array of floats: The &ldquo;CurveValues&rdquo; Array exposed by default on the node.
For the most part this is not an issue, but when trying to watch a variable as an input for a curve, it will not show up correctly because of the implicit conversion unreal does.
<img src="/animnode-reference/ModifyCurveNodeInputWeirdness.png" alt="AnimNodeWeirdness"></p>
</div>

<p>Another way of modifying the curves is by adding them to the CurveMap mapping.
The CurveMap maps the name of the curve to the value it should be set to.</p>
<div style="border: dimgrey 2px solid; padding: 0.5em 1em 0.5em 2em; ">
	<h4 id="the-bugged-curvemap-input">The bugged &ldquo;CurveMap&rdquo; input</h4>
<p>As of UE5.3, using the CurveMap as an input seems to have no effect anymore.
I have verified that this used to work in UE5.2, but it isn&rsquo;t immediately obvious to me why it has stopped working in 5.3.</p>
</div>

<p>These two just represent different views on the same data and are combined when the node evaluates.</p>
<p>Incoming curves can be modified by the node in the following ways according to <code>EModifyCurveApplyMode</code>:</p>
<ul>
<li><strong>Add</strong>: Just adds the value from the node to the incoming value</li>
<li><strong>Scale</strong>: Multiplies the incoming value with the nodes value for the curve</li>
<li><strong>Blend</strong>: Blends between the incoming curve value and the nodes curve value based on the nodes alpha</li>
<li><strong>Weighted moving average</strong>: Modifies the curve using a weighted moving average to reach the input value, effectively smoothing out the curve. <em>Note: This mode is incredibly unintuitive to utilize, as it seemingly does not work with the node alone, but rather needs a complementary setup as described on the UnrealEngine forum <a href="https://forums.unrealengine.com/t/modify-curve-node-apply-mode-weighted-moving-average-how-does-it-work/135653/8">over here</a></em></li>
<li><strong>Remap curve</strong>: Remaps the new curve value between the CurveValues entry and 1.0 (.5 in CurveValues makes 0.51 map to 0.02)</li>
</ul>
<p>This ApplyMode can be configured in the details panel of the node.</p>
<div style="border: dimgrey 2px solid; padding: 0.5em 1em 0.5em 2em; ">
	<h4 id="the-bugged-weighted-moving-average-setting">The bugged &ldquo;Weighted Moving Average&rdquo; setting</h4>
<p>The &ldquo;Weighted Moving Average&rdquo; option on the node seems to be bugged as of UE5.2, as also confirmed <a href="https://github.com/EpicGames/UnrealEngine/commit/502797ca50c381928f5dec3edac62208811a8417#r129496822">over here</a>. I was able to get an effect out of it in UE5.0 specifically, but that mode doesn&rsquo;t seem to have any effect in UE5.2 and UE5.3.</p>
</div>


			</div>
		</article>

		<hr />

		<div class="post-info">
			
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://www.aaronkemner.com/tags/ue5/">UE5</a></span>
        <span class="tag"><a href="https://www.aaronkemner.com/tags/node/">Node</a></span>
        
    </p>

			
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"></path></svg>

        <span class="tag"><a href="https://www.aaronkemner.com/categories/animnode-reference/">AnimNode Reference</a></span>
        
    </p>

		</div>
	</main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2024</span>
            
            
            
            <span>Aaron Kemner</span>
        </div>
    </div>
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.ac2a4bcaed631ec2dc154407be7f09fc28da37de71fae6dee6711b2a3d1622770f87d3cda22c460e9a68ff619bdb1dd75cb7a5d33f159a54e419736cc4541087.js" integrity="sha512-rCpLyu1jHsLcFUQHvn8J/CjaN95x&#43;ube5nEbKj0WIncPh9PNoixGDppo/2Gb2x3XXLel0z8VmlTkGXNsxFQQhw=="></script>




    </body>
</html>
